var WheelIndicator = function(t, e) {
    function i(t) {
        this._options = u(h, t), this._deltaArray = [0, 0, 0], this._isAcceleration = !1, this._isStopped = !0, this._direction = "", this._timer = "", this._isWorking = !0;
        var e = this;
        this._wheelHandler = function(t) {
            e._isWorking && (o.call(e, t), e._options.preventMouse && n(t))
        }, r(this._options.elem, c, this._wheelHandler)
    }

    function s(t) {
        t.direction = this._direction, this._options.callback.call(this, t)
    }

    function n(e) {
        e = e || t.event, e.preventDefault ? e.preventDefault() : e.returnValue = !1
    }

    function o(t) {
        var e = this,
            i = d(t);
        if (0 !== i) {
            var n, o, r = i > 0 ? "down" : "up",
                l = e._deltaArray.length,
                u = !1,
                c = 0;
            for (clearTimeout(e._timer), e._timer = setTimeout(function() {
                    e._deltaArray = [0, 0, 0], e._isStopped = !0, e._direction = r
                }, 150), o = 0; o < l; o++) 0 !== e._deltaArray[o] && (e._deltaArray[o] > 0 ? ++c : --c);
            Math.abs(c) === l && (n = c > 0 ? "down" : "up", n !== e._direction && (u = !0, e._direction = r)), e._isStopped || (u ? (e._isAcceleration = !0, s.call(this, t)) : Math.abs(c) === l && a.call(this, t)), e._isStopped && (e._isStopped = !1, e._isAcceleration = !0, e._direction = r, s.call(this, t)), e._deltaArray.shift(), e._deltaArray.push(i)
        }
    }

    function a(t) {
        var e = Math.abs(this._deltaArray[0]),
            i = Math.abs(this._deltaArray[1]),
            n = Math.abs(this._deltaArray[2]),
            o = Math.abs(d(t));
        o > n && n > i && i > e && (this._isAcceleration || (s.call(this, t), this._isAcceleration = !0)), o < n && n <= i && (this._isAcceleration = !1)
    }

    function r(t, e, i) {
        t.addEventListener ? t.addEventListener(e, i, !1) : t.attachEvent && t.attachEvent("on" + e, i)
    }

    function l(t, e, i) {
        t.removeEventListener ? t.removeEventListener(e, i, !1) : t.detachEvent && t.detachEvent("on" + e, i)
    }

    function u(t, e) {
        var i, s = {};
        for (i in t) Object.prototype.hasOwnProperty.call(t, i) && (s[i] = t[i]);
        for (i in e) Object.prototype.hasOwnProperty.call(e, i) && (s[i] = e[i]);
        return s
    }
    var c = "onwheel" in e ? "wheel" : "mousewheel",
        h = {
            callback: function() {},
            elem: e,
            preventMouse: !0
        };
    i.prototype = {
        constructor: i,
        turnOn: function() {
            return this._isWorking = !0, this
        },
        turnOff: function() {
            return this._isWorking = !1, this
        },
        setOptions: function(t) {
            return this._options = u(this._options, t), this
        },
        getOption: function(t) {
            var e = this._options[t];
            if (void 0 !== e) return e;
            throw new Error("Unknown option")
        },
        destroy: function() {
            return l(this._options.elem, c, this._wheelHandler), this
        }
    };
    var d = function(t) {
        return (d = t.wheelDelta && !t.deltaY ? function(t) {
            return t.wheelDelta * -1
        } : function(t) {
            return t.deltaY
        })(t)
    };
    return i
}(window, document);
"object" == typeof exports && (module.exports = WheelIndicator), ! function(t) {
        function e(t, e) {
            if (!t) throw new Error("Missing selector. Refer to Usage documentation: https://github.com/peduarte/wallop#javascript");
            for (var i = 0; i < r.length; i++)
                if (r[i] === t) throw new Error("An instance of Wallop with this selector already exists.");
            if (this.options = {
                    buttonPreviousClass: "Wallop-buttonPrevious",
                    buttonNextClass: "Wallop-buttonNext",
                    itemClass: "Wallop-item",
                    currentItemClass: "Wallop-item--current",
                    showPreviousClass: "Wallop-item--showPrevious",
                    showNextClass: "Wallop-item--showNext",
                    hidePreviousClass: "Wallop-item--hidePrevious",
                    hideNextClass: "Wallop-item--hideNext",
                    carousel: !0
                }, t.length > 0) throw new Error("Selector cannot be an array, Refer to Usage documentation: https://github.com/peduarte/wallop#javascript");
            this.$selector = t, this.options = o(this.options, e), this.event = null, this.allItemsArray = Array.prototype.slice.call(this.$selector.querySelectorAll(" ." + this.options.itemClass)), this.currentItemIndex = this.allItemsArray.indexOf(this.$selector.querySelector(" ." + this.options.currentItemClass)), this.lastItemIndex = this.allItemsArray.length - 1, this.buttonPrevious = this.$selector.querySelector(" ." + this.options.buttonPreviousClass), this.buttonNext = this.$selector.querySelector(" ." + this.options.buttonNextClass), this.bindEvents(), this.createCustomEvent(), -1 === this.currentItemIndex && (this.currentItemIndex = 0, s(this.allItemsArray[this.currentItemIndex], this.options.currentItemClass)), this.updateButtonStates();
            var n = this;
            setTimeout(function() {
                n.event.detail.currentItemIndex = n.currentItemIndex, n.$selector.dispatchEvent(n.event)
            }, 0)
        }

        function i(t) {
            return t ? document.querySelectorAll("." + t) : void 0
        }

        function s(t, e) {
            t && (t.className = (t.className + " " + e).trim())
        }

        function n(t, e) {
            t && (t.className = t.className.replace(e, "").trim())
        }

        function o(t, e) {
            var i, s = {};
            for (i in t) s[i] = t[i];
            for (i in e) s[i] = e[i];
            return s
        }

        function a(t, e) {
            e = e || {
                bubbles: !1,
                cancelable: !1,
                detail: void 0
            };
            var i = document.createEvent("CustomEvent");
            return i.initCustomEvent(t, e.bubbles, e.cancelable, e.detail), i
        }
        var r = [],
            l = e.prototype;
        l.updateButtonStates = function() {
            !this.buttonPrevious && !this.buttonNext || this.options.carousel || (this.currentItemIndex === this.lastItemIndex ? this.buttonNext.setAttribute("disabled", "disabled") : 0 === this.currentItemIndex && this.buttonPrevious.setAttribute("disabled", "disabled"))
        }, l.removeAllHelperSettings = function() {
            n(this.allItemsArray[this.currentItemIndex], this.options.currentItemClass), n(i(this.options.hidePreviousClass)[0], this.options.hidePreviousClass), n(i(this.options.hideNextClass)[0], this.options.hideNextClass), n(i(this.options.showPreviousClass)[0], this.options.showPreviousClass), n(i(this.options.showNextClass)[0], this.options.showNextClass), (this.buttonPrevious || this.buttonNext) && (this.buttonPrevious.removeAttribute("disabled"), this.buttonNext.removeAttribute("disabled"))
        }, l.goTo = function(t) {
            if (t !== this.currentItemIndex && (t = -1 === t && this.options.carousel ? this.lastItemIndex : t, t = t === this.lastItemIndex + 1 && this.options.carousel ? 0 : t, !(0 > t || t > this.lastItemIndex))) {
                this.removeAllHelperSettings();
                var e = (t > this.currentItemIndex || 0 === t && this.currentItemIndex === this.lastItemIndex) && !(t === this.lastItemIndex && 0 === this.currentItemIndex);
                s(this.allItemsArray[this.currentItemIndex], e ? this.options.hidePreviousClass : this.options.hideNextClass), s(this.allItemsArray[t], this.options.currentItemClass + " " + (e ? this.options.showNextClass : this.options.showPreviousClass)), this.currentItemIndex = t, this.updateButtonStates(), this.event.detail.currentItemIndex = this.currentItemIndex, this.$selector.dispatchEvent(this.event)
            }
        }, l.previous = function() {
            this.goTo(this.currentItemIndex - 1)
        }, l.next = function() {
            this.goTo(this.currentItemIndex + 1)
        }, l.bindEvents = function() {
            r.push(this.$selector);
            var t = this;
            this.buttonPrevious && this.buttonPrevious.addEventListener("click", function(e) {
                e.preventDefault(), t.previous()
            }), this.buttonNext && this.buttonNext.addEventListener("click", function(e) {
                e.preventDefault(), t.next()
            })
        }, l.on = function(t, e) {
            this.$selector.addEventListener(t, e, !1)
        }, l.off = function(t, e) {
            this.$selector.removeEventListener(t, e, !1)
        }, l.createCustomEvent = function() {
            var t = this;
            this.event = new a("change", {
                detail: {
                    wallopEl: t.$selector,
                    currentItemIndex: Number(t.currentItemIndex)
                },
                bubbles: !0,
                cancelable: !0
            })
        }, a.prototype = window.CustomEvent ? window.CustomEvent.prototype : {}, window.CustomEvent = a, "function" == typeof define && define.amd ? define(function() {
            return e
        }) : "undefined" != typeof module && module.exports ? module.exports = e : t.Wallop = e
    }(this),
    function(t) {
        t.fn.flowtype = function(e) {
            var i = t.extend({
                    maximum: 9999,
                    minimum: 1,
                    maxFont: 9999,
                    minFont: 1,
                    fontRatio: 35
                }, e),
                s = function(e) {
                    var s = t(e),
                        n = s.width(),
                        o = n > i.maximum ? i.maximum : n < i.minimum ? i.minimum : n,
                        a = o / i.fontRatio,
                        r = a > i.maxFont ? i.maxFont : a < i.minFont ? i.minFont : a;
                    s.css("font-size", r + "px")
                };
            return this.each(function() {
                var e = this;
                t(window).resize(function() {
                    s(e)
                }), s(this)
            })
        }
    }(jQuery);
var Home = Barba.BaseView.extend({
    namespace: "home",
    onEnter: function() {
        this._construct()
    },
    onEnterCompleted: function() {
        this.start()
    },
    onLeave: function() {
        this.exit()
    },
    onLeaveCompleted: function() {
        this.destroy()
    },
    _first_slide_loaded: !1,
    _current_index: 0,
    _count: 0,
    _slider: null,
    _wheel: null,
    _direction: -1,
    _start_timeline: null,
    _autoplay_timeline: null,
    _autoplay_duration: 4,
    _slides_timeline: null,
    _is_animating: !1,
    $el: null,
    _$mask: null,
    _construct: function() {
        this.destroy(), this.$el = $(".Wallop"), this.$el.length && (this._$mask = $("#js-home--mask"), this.destroy(), TweenLite.set([".slide__title", ".slide__description", ".slide__cta__wrapper", ".home__nav__counter"], {
            opacity: 0
        }), TweenLite.set(".js-slides--prev", {
            xPercent: 100
        }), TweenLite.set(".js-slides--next", {
            xPercent: -100
        }))
    },
    exit: function() {
        this._is_animating = !0, this._wheel && this._wheel.destroy(), $(document).off("." + this.namespace), this._slider && this._slider.off("change"), this._start_timeline && this._start_timeline.pause().kill(), this._autoplay_timeline && this._autoplay_timeline.pause().kill(), this._slides_timeline && this._slides_timeline.pause().kill(), TweenLite.killTweensOf(".slide__image"), TweenLite.killTweensOf(".slide__title"), TweenLite.killTweensOf(".slide__description"), TweenLite.killTweensOf(loader.$progressbar), TweenLite.killTweensOf(loader.$progressbar_inner), TweenLite.set(loader.$progressbar_inner, {
            clearProps: "left, right, width"
        })
    },
    destroy: function() {
        this._$mask && TweenLite.killTweensOf(this._$mask), TweenLite.set(".slide__title, .slide__description", {
            clearProps: "all"
        }), this._direction = -1, this._first_slide_loaded = !1, this._current_index = -1, this._count = 0, this._start_timeline = null, this._autoplay_timeline = null, this._autoplay_duration = 4, this._slides_timeline = null, this._is_animating = !0
    },
    start: function() {
        this._initPlugins(), this._initEvents();
        var t = $(this._getSlide(0));
        this._start_timeline = new TimelineLite({
            onComplete: function() {
                this._first_slide_loaded = !0, this._is_animating = !1, this._autoplay_timeline && this._autoplay_timeline.invalidate().restart(!0, !1)
            },
            onCompleteScope: this
        }), this._start_timeline.set(loader.$progressbar, {
            zIndex: 4
        }).set(".slide__description", {
            yPercent: -100,
            opacity: 1
        }).fromTo(t.find(".slide__image"), 1, {
            autoAlpha: 0,
            scale: 1.3
        }, {
            autoAlpha: 1,
            scale: 1,
            ease: Expo.easeInOut
        }, 0).fromTo(".slide__title", .56, {
            opacity: 0
        }, {
            opacity: 0,
            ease: CubicBezier.get("custom-0.63-0.38")
        }, .7).fromTo(t.find(".slide__title"), .56, {
            opacity: 0
        }, {
            opacity: 1,
            ease: CubicBezier.get("custom-0.63-0.38")
        }, .7).fromTo(".home__nav__counter", .6, {
            autoAlpha: 0
        }, {
            autoAlpha: 1,
            ease: CubicBezier.get("custom-0.63-0.38")
        }, .7).to(".home__nav__btn", .56, {
            xPercent: 0,
            ease: CubicBezier.get("custom-0.63-0.38")
        }, .9).fromTo(t.find(".slide__description"), .6, {
            yPercent: 100
        }, {
            yPercent: 0,
            ease: CubicBezier.get("custom-0.84")
        }, .9).set(".slide__cta__wrapper", {
            opacity: 1
        }).from(t.find(".slide__cta__wrapper"), .7, {
            x: 0,
            ease: CubicBezier.get("custom-0.63-0.25"),
            force3D: "auto"
        }, 1.15)
    },
    _initPlugins: function() {
        var t = this;
        this._slider = new Wallop(this.$el[0], {
            showPreviousClass: "Wallop-item--current",
            showNextClass: "Wallop-item--current",
            hidePreviousClass: "Wallop-item--current",
            hideNextClass: "Wallop-item--current"
        }), this._count = this._slider.allItemsArray.length, this._current_index = this._slider.lastItemIndex, this._wheel = new WheelIndicator({
            callback: function(e) {
                var i = "up" === e.direction ? "previous" : "next";
                t[i]()
            }
        }), this._autoplay_timeline = new TimelineLite({
            paused: !0,
            overwrite: "concurrent",
            onComplete: this._slider.next,
            onCompleteScope: this._slider
        }), this._autoplay_timeline.fromTo(loader.$progressbar_inner, this._autoplay_duration, {
            width: 0,
            left: 0,
            right: "auto"
        }, {
            width: "100%",
            ease: Power0.easeNone,
            force3D: "auto"
        }).addLabel("end").fromTo(loader.$progressbar_inner, .6, {
            left: "auto",
            right: 0
        }, {
            width: 0,
            ease: CubicBezier.get("custom-0.68"),
            force3D: "auto"
        })
    },
    _initEvents: function() {
        var t = this;
        this._slider.on("change", function(e) {
            t._onChange(e.detail.currentItemIndex)
        }), $(document).on("keydown." + this.namespace, function(e) {
            var i = e.shiftKey;
            switch (e.which) {
                case 38:
                case 33:
                case 37:
                    t.previous();
                    break;
                case 32:
                    if (i) {
                        t.previous();
                        break
                    }
                case 40:
                case 34:
                case 39:
                    t.next();
                    break;
                default:
                    return
            }
        }).on("mouseenter." + this.namespace, ".slide__title, .slide__cta", function(e) {
            if (!t._is_animating && t._autoplay_timeline.isActive()) {
                t._autoplay_timeline.pause();
                var i = t._$mask.data("timeline");
                i ? i.play() : (i = new TimelineLite, i.staggerTo([".js-shape--top", ".js-shape--bottom"], .6, {
                    cycle: {
                        transformOrigin: "50% 50%",
                        x: [-25, 25],
                        y: [25, -25]
                    },
                    ease: Sine.easeInOut
                }, 0), t._$mask.data("timeline", i))
            }
        }).on("mouseleave." + this.namespace, ".slide__title, .slide__cta", function(e) {
            if (!t._is_animating && t._autoplay_timeline.paused()) {
                t._autoplay_timeline.resume();
                var i = t._$mask.data("timeline");
                i && i.reverse()
            }
        }).on("click." + this.namespace + " tap." + this.namespace, ".js-slides--prev", function(e) {
            e.preventDefault(), t.previous(!0)
        }).on("click." + this.namespace + " tap." + this.namespace, ".js-slides--next", function(e) {
            e.preventDefault(), t.next(!0)
        })
    },
    goTo: function(t) {
        return !(t < 0 || t >= this._count) && void this._slider.goTo(t)
    },
    previous: function(t) {
        if (!this._is_animating) return "undefined" == typeof t && (t = !1), t ? this._slider.previous() : void this._autoplay_timeline.eventCallback("onComplete", this._slider.previous, null, this._slider).play("end")
    },
    next: function(t) {
        if (!this._is_animating) return "undefined" == typeof t && (t = !1), t ? this._slider.next() : void this._autoplay_timeline.eventCallback("onComplete", this._slider.next, null, this._slider).play("end")
    },
    _onChange: function(t) {
        if (!this._is_animating || !this._first_slide_loaded) {
            var e = this._current_index,
                i = t - e;
            i > 1 ? i = -1 : i < -1 && (i = 1), i *= this._direction;
            var s = this._direction < 0 && i < 0 || this._direction > 0 && i > 0;
            this._current_index = t;
            var n = e + i,
                o = t - i,
                a = o - i,
                r = $(this._getSlide(n)),
                l = $(this._getSlide(e)),
                u = $(this._getSlide()),
                c = $(this._getSlide(o)),
                h = $(this._getSlide(a));
            r.removeClass("Wallop-item--current Wallop-item--last-previous Wallop-item--previous Wallop-item--next Wallop-item--next-next").addClass("Wallop-item--last-previous"), l.removeClass("Wallop-item--current Wallop-item--last-previous Wallop-item--previous Wallop-item--next Wallop-item--next-next").addClass("Wallop-item--previous"), u.removeClass("Wallop-item--current Wallop-item--last-previous Wallop-item--previous Wallop-item--next Wallop-item--next-next").addClass("Wallop-item--current"), c.removeClass("Wallop-item--current Wallop-item--last-previous Wallop-item--previous Wallop-item--next Wallop-item--next-next").addClass("Wallop-item--next"), h.removeClass("Wallop-item--current Wallop-item--last-previous Wallop-item--previous Wallop-item--next Wallop-item--next-next").addClass("Wallop-item--next-next"), this._slides_timeline instanceof TimelineLite ? this._slides_timeline.kill().clear() : this._slides_timeline = new TimelineLite({
                paused: !0,
                onStart: function() {
                    this._autoplay_timeline.pause().seek(0), this._is_animating = !0;
                    var t = this._current_index + 1;
                    $(".js-slides--counter").addClass("animating animating-" + (s ? "forward" : "backward")).eq(s ? 2 : 0).text(t)
                },
                onComplete: function() {
                    var t = this._current_index + 1,
                        e = t - 1,
                        i = t + 1;
                    e <= 0 && (e = this._count), i > this._count && (i = 1), $(".js-slides--counter").removeClass("active animating animating-" + (s ? "forward" : "backward")).eq(0).text(e).end().eq(1).text(t).end().eq(2).text(i).end();
                    var n = l.data("zoomin");
                    n && n.pause().seek(0), this._is_animating = !this._first_slide_loaded, this._autoplay_timeline && this._autoplay_timeline.invalidate().restart(!0, !1)
                },
                callbackScope: this
            });
            var d = 1.6667 * parseFloat(u.css("font-size"));
            this._slides_timeline.to(this._$mask, .7, {
                fill: this.getColor(),
                ease: Power1.easeOut
            }, 0).staggerFromTo(l.find(".slide__image"), 1.2, {
                autoAlpha: 1,
                x: 0
            }, {
                autoAlpha: 0,
                cycle: {
                    x: [-(100 * i), 100 * i]
                },
                ease: Expo.easeInOut
            }, 0, 0).staggerFromTo(u.find(".slide__image"), 1.2, {
                autoAlpha: 1,
                cycle: {
                    x: [100 * i, -(100 * i)]
                }
            }, {
                x: 0,
                ease: Expo.easeInOut
            }, 0, 0).fromTo(r.find(".slide__title"), 1.05, {
                right: s ? "auto" : "100%",
                left: s ? "100%" : "auto",
                x: Math.min(d, r.find(".slide__title").outerWidth() / 2) * i,
                opacity: 0
            }, {
                right: s ? "auto" : "200%",
                left: s ? "200%" : "auto",
                ease: CubicBezier.get("custom-0.63-0.38"),
                force3D: "auto"
            }, .15).fromTo(l.find(".slide__title"), 1.05, {
                left: s ? "150%" : "auto",
                right: s ? "auto" : "50%",
                xPercent: 50 * i,
                opacity: 1
            }, {
                left: s ? "100%" : "auto",
                right: s ? "auto" : "100%",
                xPercent: 0,
                x: Math.min(d, l.find(".slide__title").outerWidth() / 2) * i,
                opacity: 0,
                ease: CubicBezier.get("custom-0.63-0.38"),
                force3D: "auto"
            }, .15).fromTo(l.find(".slide__description"), .6, {
                yPercent: 0
            }, {
                yPercent: -(100 * i),
                ease: CubicBezier.get("custom-0.63-0.38"),
                force3D: "auto"
            }, .45).fromTo(u.find(".slide__title"), 1.05, {
                left: s ? "auto" : "100%",
                right: s ? "100%" : "auto",
                xPercent: 0,
                x: -(Math.min(d, u.find(".slide__title").outerWidth() / 2) * i),
                opacity: 0
            }, {
                left: s ? "auto" : "20%",
                right: s ? "80%" : "auto",
                x: 0,
                xPercent: -(50 * i),
                opacity: 1,
                ease: CubicBezier.get("custom-0.63-0.38"),
                force3D: "auto"
            }, .15).fromTo(u.find(".slide__description"), .6, {
                yPercent: 100 * i
            }, {
                yPercent: 0,
                ease: CubicBezier.get("custom-0.63-0.38"),
                force3D: "auto"
            }, .45).fromTo(c.find(".slide__title"), 1.05, {
                left: s ? "auto" : "200%",
                right: s ? "200%" : "auto",
                xPercent: 0,
                x: -(Math.min(d, c.find(".slide__title").outerWidth() / 2) * i),
                opacity: 0
            }, {
                left: s ? "auto" : "100%",
                right: s ? "100%" : "auto",
                ease: CubicBezier.get("custom-0.63-0.38"),
                force3D: "auto"
            }, .15).fromTo(h.find(".slide__title"), 1.05, {
                left: s ? "auto" : "300%",
                right: s ? "300%" : "auto",
                xPercent: 0,
                x: -(Math.min(d, h.find(".slide__title").outerWidth() / 2) * i),
                opacity: 0
            }, {
                left: s ? "auto" : "200%",
                right: s ? "200%" : "auto",
                ease: CubicBezier.get("custom-0.63-0.38"),
                force3D: "auto"
            }, .15), this._first_slide_loaded ? this._slides_timeline.restart() : this._slides_timeline.progress(1, !0)
        }
    },
    _getSlide: function(t) {
        if ("undefined" == typeof t && (t = this._current_index), isNaN(t)) return null;
        t >= this._count ? t = this._count - t : t < 0 && (t = this._count + t);
        var e = this._slider.allItemsArray[t];
        return e ? e : null
    },
    getColor: function(t) {
        var e = this._getSlide(t);
        if (!e) return null;
        var i = $(e).data("color");
        return i
    }
});
Home.init();
var HomeToProjectTransition = BasicTransition.extend({
    exit: function() {
        var t = Barba.Utils.deferred(),
            e = new TimelineLite({
                onComplete: function() {
                    t.resolve()
                }
            });
        e.add("shapes").to([".Wallop-item:not(.Wallop-item--current) .slide__title", ".slide__description", ".slide__cta__wrapper", ".home__nav", loader.$progressbar], .5, {
            opacity: 0,
            ease: Power1.easeOut
        }, "shapes");
        var i = Home._$mask[0].getBBox(),
            s = !0;
        $(".js-shape").each(function(t) {
            var n;
            try {
                n = this.getBBox()
            } catch (o) {
                s = !1, n = document.getElementById(this.id + "--clone").getBBox()
            }
            var a = {
                    x: n.x + n.width / 2,
                    y: n.y + n.height / 2
                },
                r = {
                    x: i.width / 2 - a.x,
                    y: i.height / 2 - a.y
                };
            s ? e.to(this, .8, {
                transformOrigin: "50% 50%",
                x: -r.y,
                y: r.y,
                ease: CubicBezier.get("custom-0.74")
            }, "shapes").to(this, .8, {
                transformOrigin: "50% 50%",
                x: r.x,
                ease: CubicBezier.get("custom-0.74")
            }, "shapes+=0.8") : e.fromTo(this, .8, {
                attr: {
                    transform: "matrix(1 0 0 1 0 0)"
                }
            }, {
                attr: {
                    transform: "matrix(1 0 0 1 " + r.y * -1 + " " + r.y + ")"
                },
                ease: CubicBezier.get("custom-0.74")
            }, "shapes").to(this, .8, {
                attr: {
                    transform: "matrix(1 0 0 1 " + r.x + " " + r.y + ")"
                },
                ease: CubicBezier.get("custom-0.74")
            }, "shapes+=0.8"), t && e.set(this, {
                autoAlpha: 0
            })
        });
        var n = {
                force3D: !1,
                ease: CubicBezier.get("custom-0.74")
            },
            o = 10;
        if (s) n.scale = o;
        else {
            var a;
            try {
                a = $(".js-shape--top")[0].getBBox()
            } catch (r) {
                a = document.getElementById("js-home--shape-top--clone").getBBox()
            }
            var l = {
                x: a.x + a.width / 2,
                y: a.y + a.height / 2
            };
            n.attr = {
                transform: "matrix(" + o + " 0 0 " + o + " " + (1 - o) * l.x + " " + (1 - o) * l.y + ")"
            }
        }
        return e.to(".js-shape--top", .8, n, "-=0.15"), t.promise
    },
    enter: function() {
        var t = new TimelineLite({
            onComplete: this.done,
            onCompleteScope: this
        });
        t.set([this.oldContainer, this.newContainer], {
            position: "absolute",
            top: 0,
            left: 0,
            width: "100%"
        }).set(this.oldContainer, {
            zIndex: 3
        }).set(this.newContainer, {
            autoAlpha: 1
        }).to(this.oldContainer, .75, {
            opacity: 0,
            clearProps: "all"
        }).set(this.newContainer, {
            clearProps: "position, top, left, width"
        })
    }
});